<html>
<head>
    <title>API Contracts</title>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>
<body>
<h2>API:</h2>
<ul>
    <li><b>GET</b>: <a href="./contracts">/contracts</a> - Get all contracts<br/></li>
    <li><b>POST</b>: <a href="./contracts">/contracts</a> - Post new contract<br/></li>
    <li><b>DELETE</b>: <a href="./contracts/{port}">/contracts/{port}</a> - Delete specified contract<br/></li>
</ul>

<h2>Configuration: </h2>
<h3>Upload configuration for api-contract server and get port of newly created api-contract server:</h3>
<pre class="prettyprint">
    <code>$ curl -X POST http://localhost:8000/contracts -H "Content-Type: application/json" --data '
        {
          "description": "Test API Server with one getter",
          "api": [
            {
              "method": "GET",
              "path": "/test",
              "scenarios": [
                {
                  "name": "successful scenario",
                  "response": {
                    "headers": {
                      "Content-Type": "application/json"
                    },
                    "body": {
                      "example": "You can put any valid JSON as body ",
                      "any_valid_json_field_name": 1,
                      "even_inner_objects": {
                        "inner_object_field": "also works"
                      }
                    },
                    "code": 200
                  }
                }
              ]
            }
          ]
        }
        '
    </code>
</pre>

<h3>Use port from the response and check /_contract_ page for the description</h3>
<code>$ curl -X GET http://localhost:9000/_contract_</code>

<h3>Check api-contract response:</h3>
<code>$ curl -X GET http://localhost:9000/test | python -m json.tool</code>
<pre class="prettyprint">
    <code>
        {
            "any_valid_json_field_name": 1,
            "even_inner_objects": {
                "inner_object_field": "also works"
            },
            "message": "You can put any valid JSON as body"
        }
    </code>
</pre>

</body>
</html>